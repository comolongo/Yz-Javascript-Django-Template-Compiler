<!DOCTYPE html>
<html>
<head>
	<meta charset=utf-8 />
	<title>Yz JavaScript Django Template Compiler Demo</title>
	
	<script src="/yz_djs_demo/js/helper_functions_for_js_templates.js"></script>
	<script src="/yz_djs_demo/js/generated_js_templates.js"></script>
	<style type="text/css">
		/*
			Since this is a demo, I want to keep the number of files to be as few as possible, hence
			the styles will be defined on page instead of in a css file
		*/
		form {
			float: left;
			margin-top: 20px;
			display: block;
			clear: both;
		}
		.form_item {
			float: left;
			clear: both;
			width: 400px;
			margin-bottom: 10px;
		}
		.form_item label {
			width: 200px;
			float: left;
		}
		.form_item input, .form_item textarea {
			width: 200px;
		}
		.comment {
			float: left;
			border-bottom: 1px solid gray;
			clear: both;
			width: 800px;
		}
		p {
			margin: 3px;
		}
	</style>
</head>
<body>
	
	<h1>This is a demo of yz_js_django_tpl!</h1>
	<p>
		Yz Javascript Django Template compiler converts django templates into readily executable javascript functions that can render html on the client side via Javascript. The template is already parsed and built into the javascript functions so it is blazing fast and uses minimal browser resources. Write a template once and have it execute on both the client as well as server side. Reduce your server traffic by sending back pure data and create the html via javascript!
	</p>
	<p>
		The first two comments in this demo have been generated server side. Using the comment submission form on the bottom, you can append additional comments with the javascript. The code for rendering the comments on the client side is an auto-generated javascript function created using the same django template that rendered the comments on the server side.
	</p>
	<p>
		Please checkout this project at: <a href="http://github.com/comolongo/Yz-Javascript-Django-Template-Compiler">http://github.com/comolongo/Yz-Javascript-Django-Template-Compiler</a> on GitHub. Currently only the basic django template tags and filters are supported, e.g. if tag, for tag, default filter, etc. Your contribution will be greatly appreciated!
	</p>
	<h2>Here are some made up comments about this demo</h2>
	<div id="comments_container">
		{% for comment in comments %}
			{% include 'test_tpl1.html' %}
		{% empty %}
			<h2>I guess no one wants to make any comments</h2>
		{% endfor %}
	</div>
	<form>
		<h2>Comment submission</h2>
		<div class="form_item">
			<label for='comment-title-sub'>Comment Title: </label>
			<input type="text" id="comment-title-sub">
		</div>
		<div class="form_item">
			<label for="author-sub">Author:</label>
			<input type="text" id="author-sub">
		</div>
		<div class="form_item">
			<label for="comment-body-sub">Comment Body:</label>
			<textarea id="comment-body-sub"></textarea>
		</div>
		<button id="show-funcs">Click to load autogenerated JS templates</button>
	</form>
	<script>
		var showFuncsBtn = document.getElementById('show-funcs'),
			insertionPoint = document.getElementById('comments_container');
		showFuncsBtn.onclick = function(){
			insertionPoint.innerHTML = insertionPoint.innerHTML + yz_djstpl_test_tpl1({
				'comment_title' : document.getElementById('comment-title-sub').value,
				'author'		: document.getElementById('author-sub').value,
				'comment_body'  : document.getElementById('comment-body-sub').value
			},true);
			return false;
		}
	</script>
</body>
</html>